<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Box Alignment</title>
    <meta name="description" content="The web is fundamentally boxes. Every element in the document tree is a box. A lot of frustration with CSS often arises from trying to wrangle all the content on the page into their proper locations. CSS has gradually expanded over the years, granting us an increasing degree of control over the alignment, positioning and layout of these boxes. This talk will not only dive into how box alignment works, but also cover its interactions with other key parts of CSS layout, like display and writing-mode, as well as show how this module will continue to evolve, making layout even easier moving forward.">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/jing.css">

    <link rel="stylesheet" href="lib/css/zenburn.css">

    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section data-background-image="img/mondrian.jpg">
          <h1 style="text-transform:uppercase">Box Alignment</h1>
          <aside class="notes">Hello everyone! Today, you're going to be hearing a lot about boxes. You're also going to be hearing the word ‚Äúboxes‚Äù a lot.</aside>
        </section>

        <section data-background-image="img/emoji-bg.png" data-background-repeat="repeat" data-background-size="200px">
          <div class="l-double">
            <div style="display:flex;flex-direction:column;align-items:center;">
              <img data-src="img/name.svg" alt="Chen Hui Jing" class="plain" style="max-height:25vh">
              <div>
                <img data-src="img/avatar.jpg" alt="Jing" style="border-radius:50%;max-height:50vh">
              </div>
              <a href="https://www.twitter.com/hj_chen">@hj_chen</a>
            </div>
            <div style="display:grid;grid-template-columns:repeat(3,3em);grid-template-rows:repeat(3,3em);width:100%;grid-template-areas:'a . b''. c .''d . e';font-size:150%;">
              <span style="font-size:calc(1.75em + 3vw);grid-area:a;" class="emoji" role="img" tabindex="0" aria-label="Malaysia">&#x1F1F2;&#x1F1FE;</span>
              <span style="font-size:calc(1.75em + 3vw);grid-area:b;" class="emoji fragment" role="img" tabindex="0" aria-label="basketball">&#x1F3C0;</span>
              <span style="font-size:calc(1.75em + 3vw);grid-area:c;" class="emoji fragment" role="img" tabindex="0" aria-label="woman technologist">&#x1F469;&#x200D;&#x1F4BB;</span>
              <span style="font-size:calc(1.75em + 3vw);grid-area:d;" class="emoji fragment" role="img" tabindex="0" aria-label="memo">&#x1F4DD;</span>
              <span style="font-size:calc(1.75em + 3vw);grid-area:e;" class="emoji fragment" role="img" tabindex="0" aria-label="fox">&#x1F98A;</span>
            </div>
          </div>
          <aside class="notes">
            <p>My name is Hui Jing, I go by Jing as well. And I'm going to make use of the 2,666 emojis we currently have at our disposal to introduce myself. I'm from Malaysia, and I used to play basketball full time. Basketball actually helped kick-start my web career. Please ask me about that later, if you find this interesting.</p>
            <p>I absolutely love CSS, and so I like writing about it, and sometimes speaking about it as well. I also happen to be a Mozilla TechSpeaker, which is an initiative by Mozilla that supports technical evangelists in regional communities around the world by providing resources and funding.</p>
          </aside>
        </section>

        <section data-background-image="img/program-boxes.jpg">
          <blockquote style="background-color:rgba(255,255,255,0.7)">‚ÄúAs CSS developers, we are programmers of boxes.‚Äù<br><small>‚Äî<a style="color:#1d877a" href="hhttps://notlaura.com/">Lara Schenck</a></small></blockquote>
          <aside class="notes">Lara Schenck, whom I met at CSSConf.EU two weeks ago said this in her talk: that CSS developers are programmers of boxes. I found that a really good description of what we do.</aside>
        </section>

        <section>
          <img data-src="img/box.svg" alt="A box" class="plain">
          <aside class="notes">The visual web is made up of boxes.</aside>
        </section>

        <section>
          <img data-src="img/boxes.svg" alt="Multiple boxes" class="plain">
          <aside class="notes">Many different types of boxes.</aside>
        </section>

        <section>
          <img data-src="img/nested-boxes.svg" alt="Nested boxes" class="plain">
          <aside class="notes">Boxes nested within other boxes. And all these different boxes happen to behave differently. In order to make sense of how to arrange these boxes, or align them, we must first understand them.</aside>
        </section>

        <section>
          <h2>Where do boxes comes from?</h2>
          <p class="fragment bomb-txt">CSS</p>
          <aside class="notes">So where do these boxes come from anyway? Well, they are generated by CSS.</aside>
        </section>

        <section data-background-image="img/css-history.svg" data-background-size="95%">
          <aside class="notes">
            <p>CSS has come a long way since 1996, starting out as a simple style sheet mechanism allowing authors and readers to attach style to HTML documents.</p>
            <p>Today, CSS still does that, it is still a language that describes the rendering of HTML in various media, but the vocabulary of CSS has expanded immensely.</p>
          </aside>
        </section>

        <section>
          <blockquote>‚ÄúIf we hadn‚Äôt developed CSS, we could have ended up with the web being a giant fax machine‚Äù<br><small>‚Äî<a href="https://medium.com/net-magazine/interview-with-h%C3%A5kon-wium-lie-f3328aeca8ed">H√•kon Wium Lie</a></small></blockquote>
          <aside class="notes">I'll admit, I wasn't old enough to experience the web before CSS was invented. The first browser I ever used was Netscape Navigator 4, mainly to surf Magic the Gathering sites and the like. But I'm very glad CSS has evolved to what it is today, and that the web is not a giant fax machine.</aside>
        </section>

        <section data-background-image="img/original-box.jpg">
          <aside class="notes">
            <p>And like I said, before we can talk about box alignment, we need to talk a little bit about the boxes themselves. Out of curiosity, I'd like to ask how many of you read CSS specifications?</p>
            <p>This is a screenshot of section 4 of the CSS1 recommendation published in 1996 and can I just say, I love the ASCII diagrams in that document. Also, that textured background just makes me happy.</p>
            <p>The box model has been around since the earliest days of CSS, grouping all rendered elements into 2 categories of boxes, block-level or inline.</p>
          </aside>
        </section>

        <section data-background-image="img/not-layout.jpg">
          <aside class="notes">Upon further perusal of this document, I discovered that, at the time, CSS was not meant for doing layout, just a little something to think about.</aside>
        </section>

        <section data-background-image="img/visual-formatting-model.jpg">
          <aside class="notes">
            <p>CSS2 had expanded the formatting model, which is what we know now as the visual formatting model. This model determines how user agents process the document tree for visual media.</p>
            <p>And one particular sentence in the specification stood out to me. ‚Äú...generates zero or more boxes according to the box model‚Äù.</aside>
        </section>

        <section>
          <p>Wait, what?</p>
          <span style="font-size:calc(2.75em + 3vw)" class="emoji" role="img" tabindex="0" aria-label="face with raised eyebrow">&#x1F928;</span>
          <aside class="notes">How do you generate zero boxes? That sentence out of context, seems somewhat bizarre. But once I learned a bit more about how browsers worked, it started to make a little more sense.</aside>
        </section>

        <section data-backgrond-transition="none">
          <div style="display:grid;grid-template-columns:40% 60%;justify-content:center">
            <img data-src="img/source.svg" alt="Source document" class="plain" style="max-height:65vh;justify-self:center">
            <img data-src="img/box-tree.svg" alt="Box tree" class="plain fragment" style="max-height:75vh">
          </div>
          <aside class="notes">
            <p>Rendering engines parse the source document into objects the browsers can understand, but before it can actually render anything, an intermediary structure, called a box tree, is generated.</p>
            <p>This is a representation of the formatting structure of the document. CSS will assign a computed value for each CSS property to every element and text node in the source tree.</p>
          </aside>
        </section>

        <section data-backgrond-transition="none">
          <div style="display:grid;grid-template-columns:40% 60%;justify-content:center">
            <img data-src="img/source.svg" alt="Source document" class="plain" style="max-height:65vh;justify-self:center">
            <img data-src="img/box-tree-styles.svg" alt="Box tree" class="plain" style="max-height:75vh">
          </div>
          <aside class="notes">
            <p>One of those CSS properties is <code>display</code>, which tells the browser what type of box to generate. So usually, it's a one element one box situation, but some values can generate more than one box, like <code>list-item</code>, which generates a principal block box AND a marker box, for the bullet.</p>
            <p>Then we have values like <code>none</code>, which cause the element not to generate any boxes at all. So that's the generate zero boxes bit. Cleared that up now.</p>
          </aside>
        </section>

        <section>
          <div style="display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:3fr 1fr 1fr 3fr;grid-template-areas:'a a b b''a a b b''c c d d''c c d d';grid-gap:1em;height:65vh">
            <h2 style="grid-row:2/4;grid-column:2/4">Layout of boxes</h2>
            <ul style="display:contents;list-style-type:'üì¶ ';list-style-position:inside">
              <li style="grid-area:a;text-align:center" class="fragment">Box dimensions and type</li>
              <li style="grid-area:b;justify-self:end;text-align:center" class="fragment">Positioning scheme <small>(normal flow / float / absolute positioning)</small></li>
              <li style="grid-area:c;align-self:end;text-align:center" class="fragment">Relationships between elements in the document tree</li>
              <li style="grid-area:d;align-self:end;justify-self:end;text-align:center" class="fragment">External information <small>(e.g. viewport size, intrinsic dimensions of images etc.)</small></li>
            </ul>
          </div>
          <aside class="notes">
            <p>After the browser generates the boxes, it'll have to lay them out, and the layout of these boxes are dependent on several factors:</p>
            <ul>
              <li>the box dimensions and type</li>
              <li>the positioning scheme used</li>
              <li>relationships between elements in the document tree</li>
              <li>external information like viewport size, intrinsic dimensions and so on</li>
            </ul>
          </aside>
        </section>

        <section>
          <h2>The <code>display</code> property</h2>
          <p style="margin-bottom:1em">Defines an element's <strong>display type</strong>, which consists of the two basic qualities of how an element generates boxes</p>
          <div class="l-double" style="grid-gap:1em">
            <div class="fragment">
              <h3>Inner display type</h3>
              <p>Defines the generated formatting context for descendant boxes</p>
            </div>
            <div class="fragment">
              <h3>Outer display type</h3>
              <p>Dictates a principal box's own participation in flow layout</p>
            </div>
          </div>
          <aside class="notes">
            <p>So now, let's talk about the <code>display</code> property. It defines the type of box, okay, but what are these 2 basic qualities of box generation?</p>
            <p></p>
          </aside>
        </section>

        <section>
          <pre><code class="html"></code></pre>
        </section>

        <section>
          <h2>Block-level boxes</h2>
          <p>Boxes that participate in a <strong>block formatting context</strong></p>
          <p>Laid out one after another, vertically, beginning at the top of a containing block</p>
          <aside class="notes"></aside>
        </section>

        <section>
          <h2>Inline-level boxes</h2>
          <aside class="notes"></aside>
        </section>

        

        <section>
          <table style="font-size:60%;">
            <tr style="border-bottom:2px solid;">
              <th width="19%;">Property</th>
              <th width="10%;">Axis</th>
              <th>Aligns</th>
              <th width="25%;">Applies to</th>
            </tr>
            <tr>
              <td><code>justify-content</code></td>
              <td>main/inline</td>
              <td rowspan="2"><p style="width:65%;display:inline-block;">content within element<br>(effectively adjusts padding)</p><img class="plain" style="max-width:7em;vertical-align:top;" data-src="img/content.svg" alt="Content diagram"></td>
              <td rowspan="2">block containers, flex containers and grid containers<br></td>
            </tr>
            <tr style="border-bottom:2px solid;">
              <td><code>align-content</code></td>
              <td>cross/block</td>
            </tr>
            <tr>
              <td><code>justify-self</code></td>
              <td>inline</td>
              <td rowspan="2"><p style="width:65%;display:inline-block;">element within parent<br>(effectively adjusts margins)</p><img class="plain" style="max-width:7em;vertical-align:top;" data-src="img/self.svg" alt="Self diagram"></td>
              <td>block-level boxes, absolutely-positioned boxes and grid items<br></td>
            </tr>
            <tr style="border-bottom:2px solid;">
              <td><code>align-self</code></td>
              <td>cross/block</td>
              <td>absolutely-positioned boxes, flex items and grid items<br></td>
            </tr>
            <tr>
              <td><code>justify-items</code></td>
              <td>inline</td>
              <td rowspan="2"><p style="width:65%;display:inline-block;">items inside box<br>(controls child items)</p><img class="plain" style="max-width:7em;vertical-align:top;" data-src="img/items.svg" alt="Items diagram"></td>
              <td>block containers and grid containers<br></td>
            </tr>
            <tr style="border-bottom:2px solid;">
              <td><code>align-items</code></td>
              <td>cross/block</td>
              <td>flex-containers and grid-containers<br></td>
            </tr>
          </table>
          <p><small>Source: <a href="https://www.w3.org/TR/css-align-3/#overview">CSS Box Alignment Module Level 3</a></small></p>
        </section>

        <section>
          <h2>References and resources</h2>
          <ul>
            <li><a href="https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/">Inside a super fast CSS engine: Quantum CSS (aka Stylo)</a></li>
            <li><a href="https://www.w3.org/TR/CSS22/visuren.html">CSS2.2 Visual formatting model</a></li>
            <li><a href="https://www.w3.org/TR/css-display-3/">CSS Display Module Level 3</a></li>
            <li><a href="https://www.w3.org/TR/css-align-3/">CSS Box Alignment Module Level 3</a></li>
            <li><a href="https://www.w3.org/TR/css-writing-modes-3/">CSS Writing Modes Level 3</a></li>
          </ul>
          <aside class="notes"></aside>
        </section>

        <section style="text-align:left;">
          <h1>Thank you!</h1>
          <p><img class="j-icon plain" data-src="img/home.png" alt="Website"><a href="https://www.chenhuijing.com" style="display:inline-block;vertical-align:middle;">https://www.chenhuijing.com</a></p>
          <p><img class="j-icon plain" data-src="img/twitter.png" alt="Twitter"><a href="https://twitter.com/hj_chen" style="display:inline-block;vertical-align:middle;">@hj_chen</a></p>
          <p><img class="j-icon plain" data-src="img/medium.png" alt="Medium"><a href="https://medium.com/@hj_chen" style="display:inline-block;vertical-align:middle;">@hj_chen</a></p>
          <p><img class="j-icon plain" data-src="img/codepen.png" alt="Codepen"><a href="http://codepen.io/huijing/" style="display:inline-block;vertical-align:middle;">@huijing</a></p>
          <p style="text-align:right;"><small>Font used is <a href="https://github.com/floriankarsten/space-text">Space Text</a>, by <a href="http://floriankarsten.com/">Florian Karsten</a></small></p>
          <aside class="notes">Thank you all for your attention.</aside>
        </section>
      </div>

      <footer style="position:absolute;width:calc(100% - 1em);bottom:0;font-size:40%;z-index:1;display:flex;justify-content:space-between;padding:0.5em;"><span>https://www.chenhuijing.com/slides/33-cssday-2018</span><span style="text-align:right;">@hj_chen</span></footer>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script async src="lib/js/eijs.js"></script>

    <script>
      Reveal.initialize({
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script> 
  </body>
</html>
