<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Making CSS from good to great: the power of Subgrid</title>
    <meta name="description" content="Even though Grid allowed us to do many things with an ease that was not possible before, there is still room for improvement. Cue Subgrid. This feature allows nested grids to participate in the sizing of their parent grids, solving a major pain point developers faced with just Grid alone. This talk will explain how subgrid works and the use-cases it solves.">

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/jing.css">
    <link rel="stylesheet" href="lib/css/atelier-dune-light.css">

    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-background-image="img/background.jpg">
          <h1>Making CSS from Good to Great</h1>
          <h3>The Power of Subgrid</h3>
          <p style="margin-top:1em"><small><a href="https://www.chenhuijing.com/">Chen Hui Jing</a> / <a href="http://twitter.com/hj_chen">@hj_chen</a></small></p>
          <aside class="notes">Thank you all for coming out for the Mozilla Developer Roadshow. We are very happy to see of you here this evening. My talk will cover a couple of things, CSS, as mentioned in the title, specifically for layouts, and we're also going to cover some DevTools stuff as well. Hopefully you will find this both interesting and useful.</aside>
        </section>

        <section>
          <div class="intro-grid">
            <span class="emoji" role="img" tabindex="0" aria-label="Malaysia">&#x1F1F2;&#x1F1FE;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="alien monster">&#x1F47E;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="basketball">&#x1F3C0;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="bicycle">&#x1F6B2;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="paintbrush">&#x1F58C;&#xFE0F;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="sneaker">&#x1F45F;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="laptop computer">&#x1F4BB;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="pen">&#x1F58A;&#xFE0F;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="studio microphone">&#x1F399;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="fox">&#x1F98A;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="avocado">&#x1F951;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="person climbing">&#x1F9D7;</span>
            <span class="emoji" role="img" tabindex="0" aria-label="Rainbow flag">&#x1F3F3;&#xFE0F;&#x200D;&#x1F308;</span>
            <div style="display:flex;flex-direction:column;align-items:center;justify-content:center">
              <img data-src="img/name.svg" alt="Chen Hui Jing" class="plain" style="max-height:25vh">
              <div>
                <img data-src="img/avatar.jpg" alt="Jing" style="border-radius:50%">
              </div>
              <a href="https://www.twitter.com/hj_chen">@hj_chen</a>
            </div>
          </div>
          <aside class="notes">My name is Hui Jing, as you can probably guess from this, I'm a big fan of emojis. And these pretty much describe who I am as a person. If any of them don't make sense to you, just ask me about them later.</aside> 
        </section>

        <section>
          <img style="max-height:10em;margin-bottom:0.5em" class="plain" data-src="img/love-dev.svg" alt="Nexmo Developer Relations">
          <p><span class="emoji" role="img" tabindex="0" aria-label="avocado">&#x1F951;</span> Developer Advocate <span class="emoji" role="img" tabindex="0" aria-label="avocado">&#x1F951;</span></p>
          <img style="max-height:2.5em;margin-top:1em" class="plain" data-src="img/nexmo.svg" alt="Nexmo">
          <aside class="notes">I am currently a Developer Advocate with Nexmo, which is a platform that provides APIs for messaging, voice and authentication so developers can easily integrate communications into their applications.</aside>
        </section>

        <section>
          <section data-background-image="img/www.png">
            <aside class="notes">
              <p>The World Wide Web turned 30 years old this year back in March. Maybe this is considered ancient for some of you, but if you think about it, this technology that almost all of us use everyday, is really quite young.</p>
              <p>If we think about other mediums for transmitting knowledge and information, print has had thousands of years to develop. The telephone, from its mechanical predecessors till today, also had hundreds of years to evolve.</p>
              <p>30 years really is not a long time at all. And when the web launched, this was what it looked like. Text. Lines and lines of text.</p>
            </aside>
          </section>

          <section>
            <h2 style="margin-bottom:1em;">Web layouts over the years</h2>
            <div class="l-multiple">
              <img class="plain fragment" style="margin:0 0.5em;max-height:75vh" data-src="img/layouts1.png" alt="No layout">
              <img class="plain fragment" style="margin:0 0.5em;max-height:75vh" data-src="img/layouts2.png" alt="Table-based layout">
              <img class="plain fragment" style="margin:0 0.5em;max-height:75vh" data-src="img/layouts3.png" alt="Float-based layout">
              <img class="plain fragment" style="margin:0 0.5em;max-height:75vh" data-src="img/layouts4.png" alt="Panel-style from frameworks">
            </div>
            <aside class="notes">
              <p>So when the web started out, üëæ layout was non-existent. You could format your text with spaces, line breaks and indents, sure. But having a designed visual layout on your web page? Nope.</p>
              <p>The HTML2 specification which was released in 1994 introduced üëæ the <code>&lt;table&gt;</code> tag and although its intended use was for tabular data, that didn't stop people from using it to build all sorts of cool and funky layouts. Sure, some of the techniques involved slicing up an image into multiple parts or whatever, but it worked. Sort of.</p>
              <p>Then CSS came along in 1996, and with it came üëæ floats. And developers learned a new way to layout elements on their page. But floats weren't easy to deal with. Columns were uneven heights, things got displaced and didn't line up, you had to clear stuff.</p>
              <p>And because it was so hard and unwieldy, üëæ some people decided to build out pre-written code, AKA a framework, and let everyone else apply these pre-written styles with classes. This approach was really popular and we hit an age where a lot of websites had very similar layouts.</p>
            </aside>
          </section>

          <section>
            <img data-src="img/jon-gold.png" alt="Tweet by Jon Gold on how all websites these days use 1 of 2 layouts" style="max-height:100vh">
            <aside class="notes">This tweet has been used in conference talks all over the world many many times, but I think it makes a very strong point. And 6.8 thousand people seem to agree.</aside>
          </section>

          <section data-background-image="img/css-history.png" data-background-size="95%">
            <aside class="notes">
              <p>But CSS is an evolving technology. Yes, it started out in 1996 as a long monolithic document, and at the time, browser vendors treated the implementation of CSS a bit like how Malaysians treat traffic laws. We take them as suggestions rather than rules.</p>
              <p>The CSS Working Group was created in 1997 to tackle issues which were not addressed in the first version of CSS and they have been working on improving and evolving CSS ever since.</p>
              <p>By 2000, CSS had been broken up into modules to clarify the relationships between different parts of the specification, and make it easier to test, update and maintain the specification as a whole.</p>
              <p>The 2018 CSS Snapshot released in January this year now consists of 99 modules, many of which are being actively worked on.</p>
            </aside>
          </section>

          <section data-background-image="img/layout-props.png" data-background-size="95%">
            <aside class="notes">Individual CSS properties can be quite useful on their own, but the full power of CSS truly shines through when we use different properties in combination. Today, we will only be talking about layout-related properties, but even this subset already spans numerous specifications.</aside>
          </section>

          <section>
            <div style="display:flex;flex-wrap:wrap">
              <div style="flex:1 0 25%;font-size:85%">
                <h3>Block layout</h3>
                <p>designed for laying out documents</p>
              </div>
              <div style="flex:1 0 25%;font-size:85%" class="fragment">
                <h3>Inline layout</h3>
                <p>designed for laying out text</p>
              </div>
              <div style="flex:1 0 25%;font-size:85%" class="fragment">
                <h3>Table layout</h3>
                <p>designed for laying out 2D data in a tabular format</p>
              </div>
              <div style="flex:1 0 25%;font-size:85%" class="fragment">
                <h3>Positioned layout</h3>
                <p>designed for very explicit positioning without much regard for other elements in the document</p>
              </div>
              <div style="flex:1 0 100%" class="fragment">
                <h2>Flexbox</h2>
                <p>describes a CSS box model optimised for <strong>user interface design</strong> and designed for laying out more <strong>complex applications and webpages</strong></p>
              </div>
            </div>
            <aside class="notes">
              <p>In CSS2, we had 4 layout modes that each worked better for different use-cases. We had block layout, which was meant for laying out boxes on the page. üëæ We had inline layout, meant for laying out text.</p>
              <p>üëæ Then we had table layouts that worked best for laying out 2D data in a tabular format. üëæ And positioned layout, which was like an escape hatch, that let us position elements without regard to other elements on the page.</p>
              <p>But in 2009, üëæ the flex layout model was proposed, and it was the first layout model designed specifically for building dynamic layouts on the web. It introduced new and powerful methods for distributing space and aligning content in a way that better suited the dynamic nature of the web.</p>
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h2 style="margin-top:0.5em">Grid versus Flexbox?</h2>
            <h2 class="fragment j-stamp">‚ö† Wrong question ‚ö†</h2>
            <aside class="notes">
              <p>Some people have asked me, so why do we need Grid then, when we already have Flexbox? If Flexbox is really as great as I say it is. I also get the question: is Grid supposed to replace Flexbox?</p>
              <p>üëæ Wrong questions, my friends. Wrong questions. Why? Because these 2 layout techniques are not competing against each other. They are meant to be complementary.</p>
            </aside>
          </section>

          <section>
            <h2>Grid <span style="font-size:125%">AND</span> Flexbox</h2>
            <div class="l-multiple">
              <img class="plain fragment" style="margin:0 0.25em;" data-src="img/sushi-wasabi.jpg">
              <img class="plain fragment" style="margin:0 0.25em;" data-src="img/nuts-bolts.jpg">
              <img class="plain fragment" style="margin:0 0.25em;" data-src="img/jayz-beyonce.jpg">
            </div>
            <aside class="notes">Grid and Flexbox are best friends. Like sushi and wasabi. Like nuts and bolts. Like Jay-Z and Beyonc√©. Either are good on their own, but together, they can transcend awesomeness.</aside>
          </section>

          <section>
            <h2>Flexbox ‚û° single dimension</h2>
            <div class="l-double" style="justify-items:center">
              <figure style="width:85%;">
                <img class="plain" data-src="img/daisy-h.svg">
                <figcaption>flex-direction: row</figcaption>
              </figure>
              <figure style="width:75%;">
                <img class="plain" data-src="img/daisy-v.svg">
                <figcaption>flex-direction: column</figcaption>
              </figure>
            </div>
            <aside class="notes">Flexbox is suited for laying out items in a single dimension. Where there is no relationship between the rows and columns. Think of it more like a long daisy chain of flex children.</aside>
          </section>
        </section>

        <section>
          <section>
            <h2>What is CSS grid?</h2>
            <p style="line-height:1.5">Defines a <strong style="border-bottom:0.1em solid;">two-dimensional</strong> grid-based layout system,<br>optimized for user interface design.</p>
            <aside class="notes">Grid, on the other hand, recognises rows and columns. This is how it's described in the specification. The key word here is two-dimensional.</aside>
          </section>

          <section>
            <blockquote>‚ÄúGrid works from the <strong style="border-bottom:0.1em solid;">container</strong> in, other layout methods start with the <strong style="border-bottom:0.1em solid;">item</strong>‚Äù<br><small>‚Äî<a href="https://rachelandrew.co.uk/">Rachel Andrew</a></small></blockquote>
            <aside class="notes">
              <p>Rachel Andrew, who is one of the major contributors to the CSS grid specification, sums it up as such. Grid works from the container in, while other layout methods start with the item first. Let me explain with a scenario.</p>
              <p>Say you wanted to lay out your content into 3 columns. How would you go about it?</p>
            </aside>
          </section>

          <section>
            <h2>Layout technique: <code>inline-block</code></h2>
            <div class="livecode livecode-2p">
              <div class="result inlineblock" style="font-size:75%;">
                <div class="inlineblock__item" style="border:1px solid;padding:1em 0;"><p>Item A</p></div><div class="inlineblock__item" style="border:1px solid;padding:1em 0;"><p>Item B</p></div><div class="inlineblock__item" style="border:1px solid;padding:1em 0;"><p>Item C</p></div><div class="inlineblock__item" style="border:1px solid;padding:1em 0;"><p>Item D</p></div><div class="inlineblock__item" style="border:1px solid;padding:1em 0;"><p>Item E</p></div><div class="inlineblock__item" style="border:1px solid;padding:1em 0;"><p>Item F</p></div>
              </div>
              <div class="code"><style class="code-editor" contenteditable="true">.inlineblock__item {
  display: inline-block;
  width: calc(100% / 3);
}</style></div>
            </div>
            <aside class="notes">One approach for creating such a layout could be the <code>inline-block</code> technique. For a three column grid, we set the display of the items to <code>inline-block</code> and give them all a width of a third of the container.</aside>
          </section>

          <section>
            <h2>Layout technique: <code>float</code></h2>
            <div class="livecode livecode-2p">
              <div class="result float" style="font-size:75%;">
                <div class="float__item" style="border:1px solid;padding:1em 0;">
                  <p>Item A</p>
                </div>
                <div class="float__item" style="border:1px solid;padding:1em 0;">
                  <p>Item B</p>
                </div>
                <div class="float__item" style="border:1px solid;padding:1em 0;">
                  <p>Item C</p>
                </div>
                <div class="float__item" style="border:1px solid;padding:1em 0;">
                  <p>Item D</p>
                </div>
                <div class="float__item" style="border:1px solid;padding:1em 0;">
                  <p>Item E</p>
                </div>
                <div class="float__item" style="border:1px solid;padding:1em 0;">
                  <p>Item F</p>
                </div>
              </div>
              <div class="code"><style class="code-editor" contenteditable="true">.float__item {
  float: left;
  width: calc(100% / 3);
}</style></div>
            </div>
            <aside class="notes">If <code>float</code>s are more your style, you can do that too. It's very similar to <code>inline-block</code> though, because you also need to set a width on each item.</aside>
          </section>

          <section>
            <h2>Layout technique: <code>flex</code></h2>
            <div class="livecode livecode-2p">
              <div class="result flexbox" style="font-size:75%;">
                <div class="flexbox__item" style="border:1px solid;padding:1em 0;"><p>Item A</p></div><div class="flexbox__item" style="border:1px solid;padding:1em 0;"><p>Item B</p></div><div class="flexbox__item" style="border:1px solid;padding:1em 0;"><p>Item C</p></div><div class="flexbox__item" style="border:1px solid;padding:1em 0;"><p>Item D</p></div><div class="flexbox__item" style="border:1px solid;padding:1em 0;"><p>Item E</p></div><div class="flexbox__item" style="border:1px solid;padding:1em 0;"><p>Item F</p></div>
              </div>
              <div class="code"><style class="code-editor" contenteditable="true">.flexbox {
  display: flex;
  flex-wrap: wrap;
}

.flexbox__item {
  flex: 0 0 calc(100% / 3);
}</style></div>
            </div>
            <aside class="notes">
              <p>Flexbox can do this too. To ensure our items line up in three columns, we prevent them from growing or shrinking, then set the flex-basis to a third of the container. But again, notice that we are setting property values on the item.</p>
              <p>For all 3 techniques I just described, there isn't actually a grid. It just looks that way because we've forced the items to line up with each other.</p>
            </aside>
          </section>

          <section>
            <blockquote>‚ÄúGrid is the only layout technique that establishes a <strong style="border-bottom:0.1em solid;">relationship</strong> between rows and columns of grid items.‚Äù</blockquote>
            <aside class="notes">But when using Grid, the dimensions for rows and columns are defined on the parent container instead. The grid is real, and we can place items inside this grid.</aside>
          </section>
        </section>

        <section>
          <section>
            <h2>Basics of CSS Grid</h2>
            <div class="l-double">
              <div class="fragment" style="width:100%;">
                <p>Define your grid.</p>
                <img class="plain" style="max-height:65vh;" data-src="img/define-grid.svg" alt="Define a grid">
              </div>
              <div class="fragment" style="width:100%;">
                <p>Place items in the grid.</p>
                <img class="plain" style="max-height:65vh;" data-src="img/place-items.svg" alt="Place items in the grid">
            </div>
            <aside class="notes">The basic premise of how grid works involves two steps. You üëæ define the grid, then üëæ place items in it either by yourself, or let the browser do it for you.</aside>
          </section>

          <section>
            <h2>Grid terminology</h2>
            <img class="plain" data-src="img/terminology.svg" alt="Grid terminology">
            <aside class="notes">
              <p>I'll be using some terms related to Grid throughout this talk, so I'd like to clarify them here. Grid lines are the horizontal and vertical lines that form the basis of the grid structure, and can be referred to by their numerical index, which starts from 1.</p>
              <p>Each space between grid lines are known as grid tracks, which make up the rows and columns of the grid, and represent the spaces your items appear in.</p>
              <p>The grid cell is a single unit of the grid and is made up of 2 adjacent row lines and 2 adjacent column lines. By default, each grid item takes up 1 grid cell. A grid area is made up of multiple grid cells.</p>
              <p>The best part about Grid, is the ability to define grid gaps, which are the gutters between grid tracks. This feature has been expanded to flex layouts as well, and you can already use it in Firefox 63 onwards.</p>
            </aside>
          </section>

          <section>
            <img class="plain" data-src="img/grid-release.png">
            <aside class="notes">In 2017, Grid was rolled out very successfully, might I add. By the end of March, all the major browsers had shipped a stable implementation which worked the same way. And by October, even Samsung Internet and Edge (RIP) joined the party.</aside>
          </section>

          <section>
            <h2>Browser support for Grid (Level 1)</h2>
            <p class="ciu_embed" data-feature="css-grid" data-periods="future_1,current,past_1,past_2" data-accessible-colours="true">
              <a href="http://caniuse.com/#feat=css-grid">
                <img src="img/css-grid.png" alt="Data on support for the css-grid feature across the major browsers from caniuse.com">
              </a>
            </p>
            <aside class="notes">Right now, and I know the numbers are tiny here, more than 92% of internet users are using a browser that supports CSS grid.</aside>
          </section>

          <section>
            <h2>Using DevTools to learn Grid</h2>
            <a href="devtools/grid.html">Live demo</a>
            <aside class="notes">I've always used Firefox Devtools ever since I first started using Grid. Because it provided features that made it much easier to debug Grid layouts, since Day 1. But Devtools can be more than just that. It can be a means for the browser to help us understand CSS better.</aside>
          </section>
        </section>

        <section>
          <section>
            <h2>What's in Grid Level 2?</h2>
            <ul style="max-width:31em">
              <span style="display:block;margin-bottom:0.5em">Level 2 expands Grid by:</span>
              <li class="fragment" style="margin-bottom:0.5em">adding <strong>‚Äúsubgrid‚Äù capabilities</strong> for nested grids to participate in the sizing of their parent grids</li>
              <li class="fragment" style="margin-bottom:0.5em"><strong>aspect-ratio‚Äìcontrolled gutters</strong>.</li>
            </ul>
            <aside class="notes">Level 2 of the grid specification includes subgrid, as well as defines the behaviour for aspect-ratio-controlled gutters.</aside>
          </section>

          <section>
            <h2>Why we need subgrid?</h2>
            <aside class="notes">
              <p>There are numerous use-cases where we want our nested grids to align up to the outermost grid, for example, if you had a grid of card-style layouts with varied internal content heights. And you wanted the headers and footers for cards in the same row to all line-up.</p>
              <p>There was no way to do that without subgrid because the grand-child elements don't know about the outermost grid.</p>
            </aside>
          </section>

          <section>
            <h2>The subgrid syntax</h2>
          </section>

          <section>
            <h2>Using DevTools to learn Subgrid</h2>
            <a href="devtools/subgrid.html">Live demo</a>
            <aside class="notes"></aside>
          </section>
        </section>

        <section>
          <h2>References</h2>
          <ul>
            <li><a href="https://www.w3.org/TR/css-flexbox-1/">CSS Flexible Box Layout Module Level 1</a></li>
            <li><a href="https://www.w3.org/TR/css-grid-1/">CSS Grid Layout Module Level 1</a></li>
            <li><a href="https://www.w3.org/TR/css-grid-2/">CSS Grid Layout Module Level 2</a></li>
            <li><a href="https://tympanus.net/codrops/css_reference/subgrid/">Codrops reference: Subgrid</a></li>
            <li><a href="https://rachelandrew.co.uk/archives/2018/04/27/grid-level-2-and-subgrid/">Grid Level 2 and Subgrid</a></li>
            <li><a href="https://rachelandrew.co.uk/archives/2017/07/20/why-display-contents-is-not-css-grid-layout-subgrid/">Why display: contents is not CSS Grid Layout subgrid</a></li>
            <li><a href="https://www.smashingmagazine.com/2018/07/css-grid-2/">CSS Grid Level 2: Here Comes Subgrid</a></li>
            <li><a href="https://gridbyexample.com/examples/">Grid by Example</a></li>
            <li><a href="https://24ways.org/2018/researching-a-property-in-the-css-specifications/">Researching a Property in the CSS Specifications</a></li>
          </ul>
        </section>

        <section style="text-align:left">
          <h1>Thank you!</h1>
          <p><img class="j-icon plain" data-src="img/home.png" alt="Website"><a href="https://www.chenhuijing.com" style="display:inline-block;vertical-align:middle">https://www.chenhuijing.com</a></p>
          <p><img class="j-icon plain" data-src="img/twitter.png" alt="Twitter"><a href="https://twitter.com/hj_chen" style="display:inline-block;vertical-align:middle">@hj_chen</a></p>
          <p><img class="j-icon plain" data-src="img/medium.png" alt="Medium"><a href="https://medium.com/@hj_chen" style="display:inline-block;vertical-align:middle">@hj_chen</a></p>
          <p><img class="j-icon plain" data-src="img/codepen_w.png" alt="Codepen"><a href="http://codepen.io/huijing/" style="display:inline-block;vertical-align:middle">@huijing</a></p>
          <p style="text-align:right"><small>Header font is <a href="https://www.theleagueofmoveabletype.com/ostrich-sans">Ostrich Sans</a> by <a href="https://www.tylerfinck.com/">Tyler Finck</a>.<br>Body font is <a href="https://github.com/impallari/Libre-Baskerville">Libre Baskerville</a> by <a href="https://github.com/impallari">Pablo Impallari</a>.</small></p>
        </section>
      </div>

      <footer style="position:absolute;width:calc(100% - 1em);bottom:0;font-size:40%;z-index:1;display:flex;justify-content:space-between;padding:0.5em"><span>https://www.chenhuijing.com/slides/74-mdr-asia-2019</span><span style="text-align:right">@hj_chen</span></footer>
    </div>

    <script src="js/reveal.js"></script>
    <script src="lib/js/caniuse-embed.min.js"></script>

    <script>
      Reveal.initialize({
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true }
        ]
      });
    </script>
  </body>
</html>
